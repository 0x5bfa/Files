<ResourceDictionary
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:local="using:Files.App.Controls"
	xmlns:wct="using:CommunityToolkit.WinUI"
	xmlns:wctcontrols="using:CommunityToolkit.WinUI.Controls">

	<DataTemplate x:Key="DefaultTableViewTextCellTemplate">
		<TextBlock />
	</DataTemplate>

	<Style BasedOn="{StaticResource DefaultTableViewStyle}" TargetType="local:TableView" />
	<Style BasedOn="{StaticResource DefaultTableViewColumnStyle}" TargetType="local:TableViewColumn" />
	<Style BasedOn="{StaticResource DefaultTableViewRowStyle}" TargetType="local:TableViewRow" />
	<Style BasedOn="{StaticResource DefaultTableViewTextColumnStyle}" TargetType="local:TableViewTextColumn" />

	<Style x:Key="DefaultTableViewStyle" TargetType="local:TableView">
		<Style.Setters>
			<Setter Property="Background" Value="{ThemeResource ControlFillColorTransparentBrush}" />
			<Setter Property="BorderThickness" Value="1" />
			<Setter Property="BorderBrush" Value="{ThemeResource ControlElevationBorderBrush}" />
			<Setter Property="CornerRadius" Value="{StaticResource ControlCornerRadius}" />
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="local:TableView">
						<Grid x:Name="PART_Root" RowSpacing="8">
							<Grid.RowDefinitions>
								<RowDefinition Height="Auto" />
								<RowDefinition Height="*" />
							</Grid.RowDefinitions>

							<!--  Columns  -->
							<Grid
								x:Name="PART_ColumnsPanel"
								Grid.Row="0"
								Height="44"
								HorizontalAlignment="Left"
								wct:UIElementExtensions.ClipToBounds="True"
								Background="{TemplateBinding Background}"
								BorderBrush="{TemplateBinding BorderBrush}"
								BorderThickness="{TemplateBinding BorderThickness}"
								CornerRadius="{TemplateBinding CornerRadius}" />

							<!--  View  -->
							<ContentPresenter
								x:Name="PART_ViewContentPresenter"
								Grid.Row="1"
								Content="{TemplateBinding View}" />

						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style.Setters>
	</Style>

	<Style x:Key="DefaultTableViewColumnStyle" TargetType="local:TableViewColumn">
		<Style.Setters>
			<Setter Property="Background" Value="{ThemeResource ControlFillColorDefaultBrush}" />
			<Setter Property="VerticalAlignment" Value="Stretch" />
			<Setter Property="VerticalContentAlignment" Value="Center" />
			<Setter Property="Padding" Value="16,0" />
			<Setter Property="MinWidth" Value="84" />
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="local:TableViewColumn">
						<Grid
							x:Name="PART_RootGrid"
							Background="{TemplateBinding Background}">
							<Grid.BackgroundTransition>
								<BrushTransition Duration="0:0:0.083" />
							</Grid.BackgroundTransition>
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="*" />
								<ColumnDefinition Width="Auto" />
							</Grid.ColumnDefinitions>

							<TextBlock
								x:Name="PART_HeaderTextBlock"
								MinWidth="0"
								Margin="{TemplateBinding Padding}"
								VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
								Foreground="{ThemeResource TextFillColorTertiaryBrush}"
								Style="{StaticResource BodyStrongTextBlockStyle}"
								Text="{TemplateBinding Header}"
								TextTrimming="CharacterEllipsis"
								TextWrapping="NoWrap" />

							<Rectangle
								Grid.Column="1"
								Width="1"
								HorizontalAlignment="Right"
								VerticalAlignment="Stretch"
								Fill="{ThemeResource DividerStrokeColorDefaultBrush}" />

							<VisualStateManager.VisualStateGroups>
								<VisualStateGroup x:Name="CommonStates">
									<VisualState x:Name="Normal" />
									<VisualState x:Name="PointerOver">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_RootGrid" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ControlFillColorSecondaryBrush}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderTextBlock" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource TextFillColorSecondaryBrush}" />
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
										<VisualState.Setters>
											<Setter Target="PART_RootGrid.(AnimatedIcon.State)" Value="PointerOver" />
										</VisualState.Setters>
									</VisualState>
									<VisualState x:Name="Pressed">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_RootGrid" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ControlFillColorTertiaryBrush}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderTextBlock" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource TextFillColorTertiaryBrush}" />
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
										<VisualState.Setters>
											<Setter Target="PART_RootGrid.(AnimatedIcon.State)" Value="Pressed" />
										</VisualState.Setters>
									</VisualState>
									<VisualState x:Name="Disabled">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_RootGrid" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ControlFillColorDisabledBrush}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderTextBlock" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource TextFillColorDisabledBrush}" />
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
										<VisualState.Setters>
											<Setter Target="PART_RootGrid.(AnimatedIcon.State)" Value="Normal" />
										</VisualState.Setters>
									</VisualState>
								</VisualStateGroup>
							</VisualStateManager.VisualStateGroups>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style.Setters>
	</Style>

	<Style x:Key="DefaultTableViewRowStyle" TargetType="local:TableViewRow">
		<Style.Setters>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="local:TableViewRow">
						<Grid>
							<StackPanel x:Name="PART_CellsPanel" Orientation="Horizontal" />
							<Rectangle
								Height="1"
								HorizontalAlignment="Stretch"
								Canvas.ZIndex="100"
								Fill="{ThemeResource DividerStrokeColorDefaultBrush}">
								<Rectangle.RenderTransform>
									<TranslateTransform X="0" Y="10" />
								</Rectangle.RenderTransform>
							</Rectangle>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style.Setters>
	</Style>

	<Style
		x:Key="DefaultTableViewTextColumnStyle"
		BasedOn="{StaticResource DefaultTableViewColumnStyle}"
		TargetType="local:TableViewTextColumn">
		<!--<Style.Setters>
			<Setter />
		</Style.Setters>-->
	</Style>

</ResourceDictionary>
